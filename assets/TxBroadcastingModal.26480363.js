var H=Object.defineProperty;var p=Object.getOwnPropertySymbols;var L=Object.prototype.hasOwnProperty,C=Object.prototype.propertyIsEnumerable;var w=(s,r,t)=>r in s?H(s,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[r]=t,S=(s,r)=>{for(var t in r||(r={}))L.call(r,t)&&w(s,t,r[t]);if(p)for(var t of p(r))C.call(r,t)&&w(s,t,r[t]);return s};import{e as g,B as b,x as G,G as u,v as e,H as A}from"./app.2b9af6ff.js";import{n as K,b as P,o as N,p as R,q as B,r as v,s as $,v as E,_ as M,w as O,x as U,k as q,y as I,M as z,z as J,H as W,A as X,g as Y,D as Q,R as V,F as Z,G as j,I as ss,J as rs,K as ts,N as ns}from"./pages.c22eb3e2.js";const D=.15,es={mainnet:"https://fcd.terra.dev/v1/txs/gas_prices",testnet:"https://bombay-fcd.terra.dev/v1/txs/gas_prices"},as=async()=>{var s,r;try{return(r=(s=(await K.get(es.mainnet)).data)==null?void 0:s.uusd)!=null?r:D}catch{return D}},cs={msgs:[],success:!1,result:{height:-1,raw_log:"",txhash:""}},Ks=()=>{const s=P(),r=N(),[t,n]=g.exports.useState(!1),l=b(R),i=b(B);return{send:g.exports.useCallback(async(d,a)=>{var y,m;if(!s||!r)return null;n(!0);try{const o=await as(),h=new G.exports.Coins(`${o}uusd`),c=await s.post({msgs:d,gasPrices:h,gasAdjustment:1.5});let{success:T}=c;if(!T)throw new Error;const{txhash:x}=c.result,F={id:new Date().toISOString(),action:(y=a==null?void 0:a.action)!=null?y:`Transaction of ${v(x)}`,hash:x,chainID:r.config.chainID,callback:a==null?void 0:a.callback},k={id:`${new Date().toISOString()}-toast`,intent:"success",title:"Transaction broadcasted!"};return l(f=>[k,...f]),i(f=>[F,...f]),{payload:c,failed:!1,message:T?"":c.result.raw_log}}catch(o){const h=S({},cs),c=(m=o==null?void 0:o.message)!=null?m:"There was an error while processing the data.";return h.result.raw_log=c,{payload:h,message:c,failed:!0}}finally{n(!1)}},[r,s,l,i]),isTransacting:t}};var is=$,os=E,us=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ls=/^\w*$/;function hs(s,r){if(is(s))return!1;var t=typeof s;return t=="number"||t=="symbol"||t=="boolean"||s==null||os(s)?!0:ls.test(s)||!us.test(s)||r!=null&&s in Object(r)}var ds=hs,fs=M;function gs(s){return s==null?"":fs(s)}var _s=gs,ys=$,ms=ds,Ts=O,xs=_s;function ps(s,r){return ys(s)?s:ms(s,r)?[s]:Ts(xs(s))}var ws=ps,Ss=E,bs=1/0;function As(s){if(typeof s=="string"||Ss(s))return s;var r=s+"";return r=="0"&&1/s==-bs?"-0":r}var Is=As,Ds=ws,Ps=Is;function vs(s,r){r=Ds(r,s);for(var t=0,n=r.length;s!=null&&t<n;)s=s[Ps(r[t++])];return t&&t==n?s:void 0}var $s=vs,Es=$s;function Fs(s,r,t){var n=s==null?void 0:Es(s,r);return n===void 0?t:n}var ks=Fs;const Hs=[{key:"result.txhash",name:"Tx Hash",format:(s,r,t)=>e(ns,{intent:r,to:ts(t==null?void 0:t.network.chainID,s),children:v(s,10)})}],Ns=({isTransacting:s=!1,type:r,details:t,onClose:n})=>{const l=P();return g.exports.useEffect(()=>{r==="success"&&n()},[r,n]),s?u(A,{children:[e(q,{css:U}),e(I,{})]}):r==="success"?null:u(A,{children:[e(rs,{children:u(z,{children:[u(J,{children:[e(W,{css:X,children:"Transaction Failed"}),e(Y,{as:"p",css:Q,children:"There was an error while processing the transaction."})]}),e(V,{children:Hs.map(({key:i,name:_,format:d})=>{const a=ks(t!=null?t:{},i);return a?u("li",{children:[e("div",{css:Z,children:_}),e("div",{children:d(a,r,l)})]},i):null})}),r==="failure"&&(t==null?void 0:t.result.raw_log)&&e(j,{children:t==null?void 0:t.result.raw_log}),e(ss,{type:"button",intent:r,onClick:n,children:"Close"})]})}),e(I,{})]})};export{Ns as T,as as f,_s as t,Ks as u};
